<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¨Ù†Ùƒ Ø£Ø³Ø¦Ù„Ø© Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¡ - Ø§Ù„Ù…Ø®Ø§Ù„ÙŠØ· ÙˆØ§Ù„Ø¹Ù†Ø§ØµØ± ÙˆØ§Ù„Ù…Ø±ÙƒØ¨Ø§Øª</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ... (ÙƒÙ„ Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© ØªØ¨Ù‚Ù‰ ÙƒÙ…Ø§ Ù‡ÙŠ) ... */
        
        /* Ø´Ø§Ø´Ø© Ø§Ù„Ø£Ù„ØºØ§Ø² */
        #puzzles-screen {
            display: none;
        }
        
        .puzzles-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            background: rgba(0, 0, 0, 0.5);
            padding: 20px;
            border-radius: 15px;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }
        
        .puzzles-counter {
            font-size: 1.2rem;
        }
        
        .puzzle-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 30px;
            border-radius: 20px;
            margin-bottom: 30px;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }
        
        .puzzle-text {
            font-size: 1.4rem;
            margin-bottom: 25px;
            line-height: 1.6;
            text-align: center;
        }
        
        .puzzle-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .puzzle-option {
            background: rgba(255, 255, 255, 0.15);
            padding: 18px;
            border-radius: 12px;
            cursor: pointer;
            border: 2px solid transparent;
            font-size: 1.1rem;
            transition: all 0.3s;
        }
        
        .puzzle-option:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateX(-5px);
        }
        
        .puzzle-option.selected {
            background: rgba(26, 115, 232, 0.3);
            border: 2px solid #1a73e8;
        }
        
        .puzzle-option.correct {
            background: rgba(52, 168, 83, 0.3);
            border: 2px solid #34a853;
        }
        
        .puzzle-option.incorrect {
            background: rgba(234, 67, 53, 0.3);
            border: 2px solid #ea4335;
        }
        
        .puzzle-feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
            display: none;
            font-size: 1rem;
        }
        
        .puzzle-feedback.correct {
            background: rgba(52, 168, 83, 0.2);
            border: 1px solid #34a853;
            display: block;
        }
        
        .puzzle-feedback.incorrect {
            background: rgba(234, 67, 53, 0.2);
            border: 1px solid #ea4335;
            display: block;
        }
        
        .puzzle-navigation {
            display: flex;
            justify-content: center;
            margin-top: 30px;
        }

        /* Ù‚Ø³Ù… Ø§Ù„ØªØºØ°ÙŠØ© Ø§Ù„Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© */
        .final-feedback {
            background: rgba(255, 255, 255, 0.1);
            padding: 30px;
            border-radius: 20px;
            margin-top: 30px;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }
        
        .feedback-title {
            font-size: 2rem;
            margin-bottom: 20px;
            color: var(--accent-gold);
            text-align: center;
            border-bottom: 2px solid var(--accent-gold);
            padding-bottom: 15px;
        }
        
        .questions-review {
            max-height: 500px;
            overflow-y: auto;
            padding: 15px;
        }
        
        .question-review {
            background: rgba(255, 255, 255, 0.08);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 15px;
            border-left: 4px solid transparent;
        }
        
        .question-review.correct {
            border-left-color: var(--success-green);
        }
        
        .question-review.incorrect {
            border-left-color: var(--error-red);
        }
        
        .review-question {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: #fff;
        }
        
        .review-answer {
            font-size: 1.1rem;
            margin-bottom: 8px;
            padding: 10px 12px;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
        }
        
        .review-correct {
            color: var(--success-green);
            font-weight: bold;
        }
        
        .review-explanation {
            font-size: 1rem;
            color: #a8d0ff;
            background: rgba(255, 255, 255, 0.05);
            padding: 12px;
            border-radius: 8px;
            margin-top: 8px;
            border-right: 3px solid var(--accent-gold);
        }
    </style>
</head>
<body>
    <!-- Ø§Ù„Ù†Ø¬ÙˆÙ… Ø§Ù„Ù…ØªØ­Ø±ÙƒØ© -->
    <div class="stars-container" id="stars-container"></div>
    
    <!-- Ø§Ù„ÙÙ‚Ø§Ø¹Ø§Øª Ø§Ù„Ù…ØªØ­Ø±ÙƒØ© -->
    <div class="bubbles-container" id="bubbles-container"></div>
    
    <div class="container">
        <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© -->
        <div id="start-screen">
            <!-- ... (Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø³Ø§Ø¨Ù‚) ... -->
        </div>
        
        <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ø£Ù„ØºØ§Ø² -->
        <div id="puzzles-screen">
            <div class="puzzles-header">
                <button class="nav-btn" id="puzzles-back-btn">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
                <div class="puzzles-counter" id="puzzles-counter">Ø§Ù„Ù„ØºØ² 1 Ù…Ù† 5</div>
            </div>
            
            <div class="puzzle-card">
                <div class="puzzle-text" id="puzzle-text"></div>
                
                <div class="puzzle-options" id="puzzle-options"></div>
                
                <div class="puzzle-feedback" id="puzzle-feedback"></div>
            </div>
            
            <div class="puzzle-navigation">
                <button class="nav-btn" id="puzzle-next-btn">
                    Ø§Ù„ØªØ§Ù„ÙŠ
                </button>
            </div>
        </div>
        
        <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø© -->
        <div id="quiz-screen">
            <!-- ... (Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø³Ø§Ø¨Ù‚) ... -->
        </div>

        <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬ -->
        <div id="results-screen">
            <div class="results-card">
                <div class="celebration" id="celebration">ðŸŽ‰</div>
                <h1>Ø£Ø­Ø³Ù†Øª!</h1>
                <div class="score" id="final-score"></div>
                <div class="score-details" id="score-details"></div>
                <div class="feedback-message" id="feedback-message"></div>
                <button class="btn" id="restart-btn">
                    <i class="fas fa-redo"></i> Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
                </button>
            </div>
            
            <!-- Ø§Ù„ØªØºØ°ÙŠØ© Ø§Ù„Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© -->
            <div class="final-feedback">
                <h3 class="feedback-title"><i class="fas fa-chart-bar"></i> Ø§Ù„ØªØºØ°ÙŠØ© Ø§Ù„Ø±Ø§Ø¬Ø¹Ø©</h3>
                <div class="questions-review" id="questions-review"></div>
            </div>
        </div>
    </div>

    <script>
        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ù„ØºØ§Ø² Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠØ©
        const puzzles = [
            {
                question: "Ø£Ù†Ø§ Ø¹Ù†ØµØ± ØºØ§Ø²ÙŠØŒ Ø®ÙÙŠÙ Ø¬Ø¯Ù‹Ø§ØŒ Ø£Ø³ØªØ®Ø¯Ù… ÙÙŠ Ø§Ù„Ø¨Ø§Ù„ÙˆÙ†Ø§Øª ÙˆØ§Ù„Ø·ÙŠØ±Ø§Ù†. Ù…Ø§ Ø§Ø³Ù…ÙŠØŸ",
                options: ["Ø§Ù„Ø£ÙƒØ³Ø¬ÙŠÙ†", "Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆØ¬ÙŠÙ†", "Ø§Ù„Ù‡ÙŠÙ„ÙŠÙˆÙ…"],
                correctAnswer: 1,
                explanation: "Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆØ¬ÙŠÙ† Ù‡Ùˆ Ø£Ø®Ù Ø§Ù„Ø¹Ù†Ø§ØµØ± ÙˆÙŠØ³ØªØ®Ø¯Ù… ÙÙŠ Ø§Ù„Ù…Ù†Ø§Ø·ÙŠØ¯ ÙˆØ§Ù„Ø¨Ø§Ù„ÙˆÙ†Ø§Øª"
            },
            {
                question: "Ù…Ø±ÙƒØ¨ Ù…Ø§Ø¦ÙŠ Ù…Ø¹Ø±ÙˆÙØŒ ØµÙŠØºØªÙ‡ Hâ‚‚O --- Ù…Ø§ Ø§Ø³Ù…Ù‡ Ø§Ù„Ø´Ø§Ø¦Ø¹ØŸ",
                options: ["Ø§Ù„Ù…Ø§Ø¡", "Ø§Ù„ÙƒØ­ÙˆÙ„", "Ø­Ù…Ø¶ Ø§Ù„ÙƒØ¨Ø±ÙŠØªÙŠÙƒ"],
                correctAnswer: 0,
                explanation: "Ø§Ù„Ù…Ø§Ø¡ Ù‡Ùˆ Ø§Ù„Ù…Ø±ÙƒØ¨ Ø§Ù„Ø£ÙƒØ«Ø± Ø´ÙŠÙˆØ¹Ù‹Ø§ ÙˆØµÙŠØºØªÙ‡ Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠØ© Hâ‚‚O"
            },
            {
                question: "Ø£Ù†Ø§ Ù…Ø¹Ø¯Ù† Ù„Ø§Ù…Ø¹ ÙŠÙØ³ØªØ®Ø¯Ù… ÙÙŠ ØµÙ†Ø¹ Ø§Ù„Ù…Ø¬ÙˆÙ‡Ø±Ø§Øª ÙˆØ§Ù„Ø³Ø§Ø¹Ø§ØªØŒ Ø±Ù…Ø²ÙŠ Au. Ù…Ù† Ø£Ù†Ø§ØŸ",
                options: ["Ø§Ù„ÙØ¶Ø©", "Ø§Ù„Ø°Ù‡Ø¨", "Ø§Ù„Ù†Ø­Ø§Ø³"],
                correctAnswer: 1,
                explanation: "Ø§Ù„Ø°Ù‡Ø¨ Ù…Ø¹Ø¯Ù† Ø«Ù…ÙŠÙ† Ø±Ù…Ø²Ù‡ Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠ Au ÙˆÙŠØ³ØªØ®Ø¯Ù… ÙÙŠ Ø§Ù„Ù…Ø¬ÙˆÙ‡Ø±Ø§Øª"
            },
            {
                question: "ØºØ§Ø² Ø¹Ø¯ÙŠÙ… Ø§Ù„Ù„ÙˆÙ† ÙˆØ§Ù„Ø±Ø§Ø¦Ø­Ø© ÙŠÙØ³ØªØ®Ø¯Ù… ÙÙŠ Ø§Ù„Ù…ØµØ§Ø¨ÙŠØ­ Ø§Ù„Ù†ÙŠÙˆÙ†ÙŠØ©. Ù…Ø§ Ø§Ø³Ù…ÙŠØŸ",
                options: ["Ø§Ù„Ù†ÙŠÙˆÙ†", "Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆØ¬ÙŠÙ†", "Ø§Ù„Ø£ÙƒØ³Ø¬ÙŠÙ†"],
                correctAnswer: 0,
                explanation: "Ø§Ù„Ù†ÙŠÙˆÙ† ØºØ§Ø² Ù†Ø¨ÙŠÙ„ ÙŠØ³ØªØ®Ø¯Ù… ÙÙŠ Ø§Ù„Ø¥Ø¶Ø§Ø¡Ø© ÙˆØ§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª"
            },
            {
                question: "Ù…Ø±ÙƒØ¨ ÙŠØªÙƒÙˆÙ† Ù…Ù† ØµÙˆØ¯ÙŠÙˆÙ… ÙˆÙƒÙ„ÙˆØ± --- ÙŠÙØ³ØªØ®Ø¯Ù… ÙÙŠ Ø§Ù„Ø·Ø¹Ø§Ù….",
                options: ["Ù…Ù„Ø­ Ø§Ù„Ø·Ø¹Ø§Ù…", "Ø§Ù„Ø³ÙƒØ±", "Ø§Ù„Ø®Ù„"],
                correctAnswer: 0,
                explanation: "Ù…Ù„Ø­ Ø§Ù„Ø·Ø¹Ø§Ù… Ù‡Ùˆ ÙƒÙ„ÙˆØ±ÙŠØ¯ Ø§Ù„ØµÙˆØ¯ÙŠÙˆÙ… (NaCl)"
            }
        ];

        // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø£Ù„ØºØ§Ø²
        let currentPuzzle = 0;
        let puzzleAnswers = new Array(puzzles.length).fill(null);

        // Ø¯Ø§Ù„Ø© Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù„ØºØ² Ø§Ù„Ø­Ø§Ù„ÙŠ
        function displayPuzzle() {
            const puzzle = puzzles[currentPuzzle];
            document.getElementById('puzzle-text').textContent = puzzle.question;
            document.getElementById('puzzles-counter').textContent = `Ø§Ù„Ù„ØºØ² ${currentPuzzle + 1} Ù…Ù† ${puzzles.length}`;
            
            const optionsContainer = document.getElementById('puzzle-options');
            optionsContainer.innerHTML = '';
            
            puzzle.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'puzzle-option';
                if (puzzleAnswers[currentPuzzle] === index) {
                    optionElement.classList.add('selected');
                }
                optionElement.textContent = option;
                optionElement.addEventListener('click', () => selectPuzzleOption(index));
                optionsContainer.appendChild(optionElement);
            });
            
            document.getElementById('puzzle-feedback').style.display = 'none';
        }

        // Ø¯Ø§Ù„Ø© Ù„ØªØ­Ø¯ÙŠØ¯ Ø®ÙŠØ§Ø± Ø§Ù„Ù„ØºØ²
        function selectPuzzleOption(index) {
            puzzleAnswers[currentPuzzle] = index;
            const puzzle = puzzles[currentPuzzle];
            const feedback = document.getElementById('puzzle-feedback');
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© ÙˆØ§Ù„Ø®Ø§Ø·Ø¦Ø© Ù…Ø¨Ø§Ø´Ø±Ø©
            const options = document.querySelectorAll('.puzzle-option');
            options.forEach((opt, i) => {
                if (i === puzzle.correctAnswer) {
                    opt.classList.add('correct');
                } else if (i === index && i !== puzzle.correctAnswer) {
                    opt.classList.add('incorrect');
                }
            });
            
            if (index === puzzle.correctAnswer) {
                feedback.textContent = `Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©! ${puzzle.explanation}`;
                feedback.className = 'puzzle-feedback correct';
            } else {
                feedback.textContent = `Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©! ${puzzle.explanation}`;
                feedback.className = 'puzzle-feedback incorrect';
            }
            
            feedback.style.display = 'block';
        }

        // Ø¯Ø§Ù„Ø© Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ù…Ø¹ Ø§Ù„ØªØºØ°ÙŠØ© Ø§Ù„Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ù…Ø­Ø³Ù†Ø©
        function finishQuiz() {
            clearInterval(timer);
            
            let correctCount = 0;
            questions.forEach((question, index) => {
                if (userAnswers[index] === question.correctAnswer) {
                    correctCount++;
                }
            });
            
            const score = Math.round((correctCount / questions.length) * 100);
            
            document.getElementById('final-score').textContent = `${score}%`;
            document.getElementById('score-details').textContent = `Ø¥Ø¬Ø§Ø¨Ø§Øª ØµØ­ÙŠØ­Ø©: ${correctCount} Ù…Ù† ${questions.length}`;
            
            let feedbackMessage = "";
            if (score >= 90) {
                feedbackMessage = "Ù…Ù…ØªØ§Ø²! Ù„Ø¯ÙŠÙƒ Ù…Ø¹Ø±ÙØ© Ù‚ÙˆÙŠØ© ÙÙŠ Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¡.";
                document.getElementById('celebration').textContent = "ðŸ†";
            } else if (score >= 70) {
                feedbackMessage = "Ø¬ÙŠØ¯ Ø¬Ø¯Ù‹Ø§! Ù„Ø¯ÙŠÙƒ ÙÙ‡Ù… Ø¬ÙŠØ¯ Ù„Ù„Ù…ÙØ§Ù‡ÙŠÙ… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©.";
                document.getElementById('celebration').textContent = "ðŸŽ‰";
            } else if (score >= 50) {
                feedbackMessage = "Ù…Ù‚Ø¨ÙˆÙ„! ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø¨Ø¹Ø¶ Ø§Ù„Ù…ÙØ§Ù‡ÙŠÙ….";
                document.getElementById('celebration').textContent = "ðŸ‘";
            } else {
                feedbackMessage = "ÙŠØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ ØªØ­Ø³ÙŠÙ†! Ø±Ø§Ø¬Ø¹ Ø¯Ø±ÙˆØ³ Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¡ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.";
                document.getElementById('celebration').textContent = "ðŸ“š";
            }
            
            document.getElementById('feedback-message').textContent = feedbackMessage;
            
            // Ø¹Ø±Ø¶ Ø§Ù„ØªØºØ°ÙŠØ© Ø§Ù„Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©
            const questionsReview = document.getElementById('questions-review');
            questionsReview.innerHTML = '';
            
            questions.forEach((question, index) => {
                const reviewElement = document.createElement('div');
                reviewElement.className = 'question-review';
                
                if (userAnswers[index] === question.correctAnswer) {
                    reviewElement.classList.add('correct');
                } else {
                    reviewElement.classList.add('incorrect');
                }
                
                const questionText = document.createElement('div');
                questionText.className = 'review-question';
                questionText.textContent = `${index + 1}. ${question.question}`;
                reviewElement.appendChild(questionText);
                
                const userAnswer = document.createElement('div');
                userAnswer.className = 'review-answer';
                userAnswer.textContent = `Ø¥Ø¬Ø§Ø¨ØªÙƒ: ${userAnswers[index] !== null ? question.options[userAnswers[index]] : 'Ù„Ù… ØªØ¬Ø¨'}`;
                reviewElement.appendChild(userAnswer);
                
                const correctAnswer = document.createElement('div');
                correctAnswer.className = 'review-answer review-correct';
                correctAnswer.textContent = `Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©: ${question.options[question.correctAnswer]}`;
                reviewElement.appendChild(correctAnswer);
                
                const explanation = document.createElement('div');
                explanation.className = 'review-explanation';
                explanation.textContent = question.explanation;
                reviewElement.appendChild(explanation);
                
                questionsReview.appendChild(reviewElement);
            });
            
            document.getElementById('quiz-screen').style.display = 'none';
            document.getElementById('results-screen').style.display = 'block';
        }

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        function init() {
            createStars();
            createBubbles();
            
            // Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
            document.getElementById('student-form').addEventListener('submit', function(e) {
                e.preventDefault();
                
                studentName = document.getElementById('student-name').value;
                studentSection = document.getElementById('student-section').value;
                
                if (!studentName || !studentSection) {
                    alert('ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©.');
                    return;
                }
                
                document.getElementById('student-info').textContent = `${studentName} - Ø§Ù„Ø´Ø¹Ø¨Ø© ${studentSection}`;
                
                document.getElementById('start-screen').style.display = 'none';
                document.getElementById('quiz-screen').style.display = 'block';
                
                displayQuestion();
                startTimer();
            });

            // Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ø£Ù„ØºØ§Ø²
            document.getElementById('puzzles-btn').addEventListener('click', function() {
                document.getElementById('start-screen').style.display = 'none';
                document.getElementById('puzzles-screen').style.display = 'block';
                displayPuzzle();
            });

            document.getElementById('puzzles-back-btn').addEventListener('click', function() {
                document.getElementById('puzzles-screen').style.display = 'none';
                document.getElementById('start-screen').style.display = 'block';
            });

            document.getElementById('puzzle-next-btn').addEventListener('click', function() {
                if (currentPuzzle < puzzles.length - 1) {
                    currentPuzzle++;
                    displayPuzzle();
                } else {
                    // Ø¥Ø°Ø§ Ø§Ù†ØªÙ‡Øª Ø§Ù„Ø£Ù„ØºØ§Ø²ØŒ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
                    document.getElementById('puzzles-screen').style.display = 'none';
                    document.getElementById('start-screen').style.display = 'block';
                    currentPuzzle = 0; // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ù„Ù„Ø£Ù„ØºØ§Ø²
                }
            });

            // Ø£Ø­Ø¯Ø§Ø« Ø§Ù„ØªÙ†Ù‚Ù„ ÙÙŠ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
            document.getElementById('prev-btn').addEventListener('click', function() {
                if (currentQuestion > 0) {
                    currentQuestion--;
                    displayQuestion();
                }
            });

            document.getElementById('next-btn').addEventListener('click', function() {
                // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø¥Ø¬Ø§Ø¨Ø©
                if (userAnswers[currentQuestion] === null) {
                    document.getElementById('warning-message').style.display = 'block';
                    return;
                }
                
                if (currentQuestion < questions.length - 1) {
                    currentQuestion++;
                    displayQuestion();
                } else {
                    finishQuiz();
                }
            });

            // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
            document.getElementById('restart-btn').addEventListener('click', function() {
                currentQuestion = 0;
                userAnswers = new Array(questions.length).fill(null);
                timeLeft = 40 * 60;
                document.getElementById('timer').textContent = '40:00';
                
                document.getElementById('results-screen').style.display = 'none';
                document.getElementById('start-screen').style.display = 'block';
            });
        }

        window.addEventListener('load', init);
    </script>
</body>
</html>
